--release
!1I1EtTrYr8VluvkjszO0lKqUI)dzqGXbeuALpxxS9kTS7iPjSAhLzwbgsfv2vIFGVy8rLy7C2LVeZD5QK6kdyFPkCoFN9xg0d(wKUN9Lyfy7u5ccqZot390tp9JF9QgxTKQsdvfd8xy41xSAvbXwDMXspz6KjselzSyXMi1eXZOwDSjsOQSUlbfIPQOzPxNXxIrTSvvMkFHs5lQQOZyMgS1SuwJ2KOE(GjYBuJOUmWLUnLzjWDtyRXTXbgSYMmwtK8geHqRgPSElHnd0SGzSxheOIYc5kwQyU5MwYL7AOC9gcC4XB7l2(IsYeSwwgO0DgOmNLnHxvtNC1CggGYC1lt0wjxlUM4QlXwJWLdxGyq1UQcYH4QI60MI1Qtf2MKXz1QjfR7(SSRClZjnjAGTzcvWGqTOENnF6GPRcZlQdlyJpzZP1Qr4O1OG8UWDcCOgOewAWXYzrLZ3IBrTQ1UsodoXsZKArulaxjZtxvo95znK7GhpWqdYYTQwTK0WDHCfxyMlnpOR1zRnLjZcic0ChRQNfZ5BxtnzvcEZ2cpiknn1wh0l4j3P1AzZ8P5cent76WQcsby7rtnmSSKv0S3AzjHkG2qVUQs5PYPuQSsj4QewSjX0Codxv2J0L4ejPklLFEqPXZHcO4lA5Caw0kh4hTQNwkuvwA(CFA(ILbzoB(sLN6c5kmB(PdozvBzjD8Iok4vuX5JjtxZSDLQmw7kNRDLFB7k)UGfHzVsK0XJLnY1KRgj3gT4KAmrKq0eprYSz8iAEg3ODLFP2gBOTYqeMAYjN0NqIDDM1jrI)gMVbHtfItGMSX8OPKgHRXpjX4RsFQGzbEmdqZyJ5R6PY6RrtZjAnGqsZvi8tI4jsg3xMxuZG0GYBxzrUMU5GY21MUSgxsPGys0TJM(mWqBUOPj1o6iJnc84LaFJzV0CthncKfOgXoYOJoWvdTQZUcYb2s76eRG18(Wj2qibSkVfjyvILrWdEKuvZua0qWGFxF86uJahFPB(aXE(zFWOuii74rMHcpChytBqW8Oqyl6OPQKmwqYlwt4EYMXLjamIg5NjIm6P6S7NkRZd2U3w7F4RFuVh(hpptioR)UovDn72vwWJqmyZJRpu82a0kZmeK01jrbe6uQ8ckZwgUDMF6WMgzAldQ4xlJNWaqnR1DYQVkPKdzlWatBHXIhZjpiKRfsx9jqAo0SuirwvLviKM5GaFD7IOXswxWI2WXWnyLbhtTfKTkWY6MEsq0bhBiYNOjiW1dXQgKcQqsNjkfWiOen0Ow)eko)K4)ejqzQAHMnkazXSMCwnoCPaog6uhZwm51Arsn3QNo1lwgY3q4Lf0nalEk)NzbvPTjx3USoZK5C75rH3mGyWFtOoZKzZeFYmPZglvMejsfllwXpfQVGuardufW9QGsTSP03XDgcwExr530sJtAxzMwMqsGlxNchhxBeO8oK6CERtO1QdanYglwM4ztprMyjNmDQKPHDnvgvftMMeqc6SAc(YM4wbL54SwnDoh4kyOhhTxssgii7xCo35uvsetwIrxI0PLPn1Zjw3utigAwPLm0KW0CPD35sJQJr3oOFMHdL7CMwzQI5Zxab8eYYI)pP8)Ewr0XGAFSls96e9vgmpdwYFvnovdTZYAE4ZMTiEYOUMvnsGaCwR0Wv8G7bg30aZFqeliQ9rxbmurf)6FU1a6V5B79V25ONEq)TFA3hTx7kr7)NE2rV9lgnC1OJvt0L5o3)5D3CRo36ZgIyN6IE7XwVe2JU38FcsV3BEhi9Z2Us3N84o)4lhAB8kxgOE936B7V1Mh(6Nni39)lB3)b3ziUDlK6YC3VB)UF2MD2)ppiNDU7T7)9F7qC6vF1L1d)H719R2TZBpaSmbCJp)QBcRne7hRSRN15GN3DNVP)nUfAu3)33FVhE47EE3BU3qmhUoSh)37VbByVx(DWja29Up(bVhbfwFAjwzngZW3u8KD7V5RGJu3V8Xdz0QdX6xqMH3udY15B7F7t7T5)UZT2pmdZagziSZNUh8kWmdopHPlNaQ4dE0(NOE3C)(7FWjQ1NmIJ4Uqmq4OdaXiGnp6dqzW4oZE67rtMqYZSe7FfK5UeKADWOjVLrrcJDfjo7PlYgIAU3zHR1dZfqThzYVhF8qk6qRgbqqz9(fWPOwkagjeCHl0IOa9GLmIelqKr))hDd6aagnQuzXlX4PAxXGnm6VPkxcaCXhpxvW7lAYyTR8Zb2agojK(N2NpATlaC5jmlcrUjhcdIAZauUqzkF9zu37dWXWGGTqz4EfOdH92Kb3JJbCD4u0yHgPrzkjNYcprJi)AqPiP7SimbbyxYJOaJgXhs3LVWCagZIdZGcXwrNtBcOZx0sY1idAkldpG)HGjGVWwmFpwxe8osjOUOND8uroni8H)mN1QaKbmUn6hyp8Ddywaga7sSIAuJ33v(XmVHUhpHGsO)alB3Su7DqN9UD)9Er37U9iXtns)390EV5p05U3P7935WF8(h9SDICIsynn3g2LH378p6S7o9FX307R)ESk0EhC4RVrNDFsVNVB)D)AhX09fFf8OJG7E3pVZ9(RD(8T6C77F0nUbSHhDN739r735hWXr(idDLNIp24spf(deFo2yx5CWpxXzg3ZBTwutdNt6rVz7(B9QE)9VS7d)cx9CQYZWPWgop4uooUZxUolQKLrpMu0Dn5U5WtCMqSc5Dl0QbWCrIaWNjI6LqpuodPCgmPHR8b3A(6obrHeliZ5SQYIsd1dQKJXRcWzNfv3cobHNZ)apSB9PKsXlYdJEOMNzqjxyyp933v5)7sAG75)7eMtsUicmwQIntwNbtVDQm5h05pySXUg69CnzZ44lOlm4ueBl0(daL3EDpWS6ydL2EyX9EJIy53PPceGSHSds8nsHVslM(QEnBgpEYyqBruOX8b2ivLnyaezS9iz6pa0TMTMeY9AudOlTzsb9cflZejshpdmm7KyBjPHMoqbnBZgBmZ6PVulJprcLVkTMtljumvKG4Qlq3bl20dKp2zbXSAOxwk0hn(E1MtxQQjtfFIjawnBw3rxKnACEjVqFmJhpZ4WYRclLkb2cG6)5p

-- trigger
function()
  local foo = { }
  foo['6109'] = 'Azuregos'
  foo['12397'] = 'Lord Kazzak'
  foo['14888'] = 'Lethon'
  foo['14889'] = 'Emeriss'
  foo['14890'] = 'Taerar'
  foo['14887'] = 'Ysondre'
  -- foo['12498'] = 'Dreamstalker'
  -- foo['5317'] = 'Jademir Oracle'
  local bar = select(6, strsplit("-", UnitGUID('target')))
  if foo[bar] then
    return true
  end
  return false
end

-- message
function WorldBossesMsg()
  local foo = { }

  foo['Azuregos'] = '艾索雷葛斯 (蓝龙)'
  foo['Lord Kazzak'] = '卡扎克'
  foo['Lethon'] = '莱索恩 (绿龙: 暗影)'
  foo['Emeriss'] = '艾莫莉丝 (绿龙: 蘑菇)'
  foo['Taerar'] = '泰拉尔 (绿龙: 分身)'
  foo['Ysondre'] = '伊森德雷 (绿龙:德鲁伊)'
  foo['Dreamstalker'] = '巡梦者 (调试信息)'
  foo['Jademir Oracle'] = '加德米尔龙族 (调试信息)'

  foo['Duskwood'] = '暮色森林'
  foo['The Hinterlands'] = '辛特兰'
  foo['Feralas'] = '菲拉斯'
  foo['Ashenvale'] = '灰谷'

  local bar = select(1, UnitName('target'))
  bar = foo[bar] or bar

  local pos = GetZoneText()
  pos = foo[pos] or pos

  local msg = '发现世界Boss: '
  msg = msg .. bar
  msg = msg .. ' in '
  msg = msg .. pos

  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')

  for i = 1, 14 do
    C_Timer.After(30 * i, function()
      SendChatMessage(msg, 'GUILD')
    end)
    -- print(tostring(30 * i) .. 's delayed msg create')
  end

  local frame = CreateFrame('Frame')
  frame:RegisterEvent('CHAT_MSG_WHISPER')
  frame:SetScript("OnEvent", function(_, _, text, name)
    if text == '14' then
      InviteUnit(name)
      ConvertToRaid()
    end
  end)

  local msg_hint = '请密语我"14"进组切换位面'
  local msg_warning = '墨客警示: 请一定确认位面正确切换成功后再退组重新开组'

  SendChatMessage(msg_hint, 'GUILD')
  SendChatMessage(msg_warning, 'GUILD')

  --[====[
  local guild = '黑莲神教'
  C_FriendList.SendWho(guild)
  local cnt = select(2, C_FriendList.GetNumWhoResults())
  for i = 1, cnt do
    local entry = C_FriendList.GetWhoInfo(i)
    if entry.fullGuildName == guild then
      SendChatMessage(msg, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_hint, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_warning, 'WHISPER', nil, entry.fullName)
      print('send to ' .. entry.fullName)
    end
  end
  --]====]
end

WorldBossesMsg()

-- macro
/targetexact Azuregos
/targetexact Lord Kazzak
/targetexact Lethon
/targetexact Emeriss
/targetexact Taerar
/targetexact Ysondre
/cast !Stealth
