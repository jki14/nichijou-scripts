--release
!1I1EpTvYv8Vl8p2ufJ8lSXRu(ddyEKcgKVolABix7H7DS9iU(oUZCVqGQALO28GSnKf1MKUjkBBi7UQvRcqYwjs3SBYxg8d(w0Zm3xgBdBQ62ycEMZCoN53CMZRb1yQfvvQRQOl(bgEJLQuHJTuNjsQjsLiE8OjIgn64jhpwA1krgpUQYwUmKpQQcYuRgLTmLyAPQmvU8fZvqvrJsn0PBAQSjPbwDYac50RIvxtvHOrnf0TyKQvXmoST5LWWLGyiYMHmr1XUlQmPnZKywTz5S6mSjYGyIvZdOzbYgsYtsRVMkacpzGH641SRuP4waiuMlBHfN5QlOQWRr3CkdQjWeGel5IA2ClADVVl5qeVbwCOSnjWVByG2cWfmZLmY2I6ZZCyKHvnyvoopS9IJgmSKuuym3EnjJkaAi3qvP0uzvkwsPy2cW5K3aBymVUlK9yDzgwYQYY5waaT4COaaFjtNdWsMz1SiB4HsUQYYlK9ZYvOeOZzZvS0uZLn)S5Mo4KvX2eeGAgE0MxPzzNpgunKrZYvO0MLVCZY)UML)9blcuVwOuXIMj01LRgk722mCvkpuF8elEImP9yAbktVz5FnA7TrRpaJjNyIj8zeBvJAomw83WC1XmcNpeEYe1JNIimdXgMA8H0NXPMGhtp8ejIp0tMXhrtZWO6ClKX6y2WyE8eX815vq646ewZYlXqAg9QBxB6AiMKto2aRzfo1LGHwmEddIv4rImcm9QGVXSxD(PdhYcXQITcn6O9C1qQ4SRGEGT0Qg2mynVpmSfesaRYSXbRIn1dM4XsfKbh4bwZ3hVgrpWXx6M3tSNNxdSGWvx6Qv0z5fPGC5JelQyfiQhZGyXpfIHbNliEmJQY6yCJSGxTMvbe4YjIYqMK6IXMcLd2yMLmyxgMzcHIqOkeTlyWn2JJHmeqmHcgXXqwbSzvi(kFchcfdeearDeX8xq1vHys41(LtHY8qCKLqbYKFny0QmmNdH4AehZwuzGFbCvywqYW1GGjmReNSnyXt6pNgK91cFdRsAudkZj7HlhEua1i(jU6mtKjDSjsNkt0KPJhpz0mIm5jf4f0cOAGRaP3aa1AgYKyUuWI02kk)wBed3S8m2gGh(k1iWXX1gbG3HvNZBnmPAnOasMOrthltQXthnXePsMifSRjtRQyqrYcnqABg1UHd0f5lf5wzctKyIgKphzjMPzG4CzrkBdlIKDlzEtTbjkSv9reiZKwwNRfzThLTPG)TWeoGTs87eYF7zxex1el3RgRGQzfbR)0eocmw6sVCrjbrnfQ2gEbeXILikC1rGaVvOmd9jPCou5bCGmQ0xvtKrJAizPoNIQZWGsjoywzQc5YLhSlc9mBJ6BpZwPUQT(NkXwfsvhCrmfBl2fkGgwQrpOEtIo4IotsWriA6XJNkwAyyMje3jPaxucxuIBEnjOtKm24JdHcceaE3ilxCP5PVGGyDAjdkTHWBbQ7YrvHBoVSh(uC8suwek4vi78tlLYDnbA9gQmy9kWrlWSTiV6hD9R(kj4x9YndE3DEFN)1(N(SJ7U3ZA)4dBwoC3)8Zp99F5O9xl5mv0CfU1dEr7D2T1T)8by2PQM3ES7RH9O9T(NG278UpaA)tAwU9tFsRF61dSnEf7cGx3D)UU7UZjV959kD3)6EDF4DhqA3YGUc3(7pQ9NVtRJ(l9kzR7DNU)W3nGKEvhDf9KF8(TF5bTE)XGLjqAX83ClyTbe)mfn9Soh)I27)TDV5Tfg1J(dDp8rN8Hx0(whoGW9xf1t(7)3HnSZR)E4ea7E7N8Wlqr9JhB(6BsP6(MINEq3DEdCKA)vpzaJwniz2CYsygiizUVT)9pRZo)7w3(O(fygWidPI857HVbmZGZt)8LLd1R3afCI6CRJ6E0Xdf1dVFHyUniiAMSNgeceZJ)GEeOmhQN)E0GYLYml263aLMezV6nAYBzHkHXUQuq98vzDEv37ShUxNDp6K3(4op6pjIvbhUEoUESj)ESX6dOdSAiO)hZlwbNdSuGoCMQgYArNekHb(blziOpRfMo0O))JVEDaaJgrcwXLySKnlRthS3TPkvKar8JLTc49for0ML)vGyGadRp9Z7Zhn6cAnCiufn42GbHbHTOqpQqrzF8mQ79b4yOJfpas39kqdc7TW9UhNPTZbtrlkKinktjLuwAlCi5x9QfjFFIOpioyxYjEAt4qWBzkwArLzlTYCZdphQWGcOGTu0yKgqV1lzkLAKEnLLGjI)l6wc(s8aXlW6kA9wWjaxHNDSKHoVgW7)Z8MBa9ejIBd)ZSh(UburjBRI0ciI(fDLFgZBF3JdjOe6U30Ynl1Hh36W709Wx1(E7nsSKJ09dpRZ7(JTU3DB)G9p5NEWPpF)qdvdBICFUTm8E))rRd2V7R(2oF9piQcD4XN82B26GN25fh09GV2rnTF1lHPokU99(Iw3)V16l2T1DEWP38MWgE6DFq7hFuRFumo0hzOR8u8Xgx6b4FM4ZirU2LH)DnhkUN3Q2edDNt6PVBVU7(MoFZx1(rFPloNQ0mmcSHlaoLJj25vQrdlfz0ZOfnxtUBo84xQprH8U5TRdcxaZH2t5H9sO3xodPE6nPHR(b3A2wobr9PwqNZBwHgM03liLsmwfOF9zfWnVtq4L9pWd6wFoPu8I8erpeJl1RMZpON(fDv()UM65E()oL5KKlexelv2IkRZisVDUc5h05pisKRl8EUU8P0aPR0FZPYoB5uB4H2tkh72pR4pcKKQY8I(nQG0WRMvxhAME1vWO1ZcpoKV6Y0nXm5WfX6e0Qkcj4RYRrAW3SgCxBGhJwTQRQkXWnGCPQ5h3P3FIx74UB5AN5XSUpecE5r8XILEmO5(nGw6tgx8ah1)d

-- trigger
function()
  local foo = { }
  foo['6109'] = 'Azuregos'
  foo['12397'] = 'Lord Kazzak'
  foo['14888'] = 'Lethon'
  foo['14889'] = 'Emeriss'
  foo['14890'] = 'Taerar'
  foo['14887'] = 'Ysondre'
  -- foo['12498'] = 'Dreamstalker'
  -- foo['5317'] = 'Jademir Oracle'
  local bar = select(6, strsplit("-", UnitGUID('target')))
  if foo[bar] then
    return true
  end
  return false
end

-- message
function WorldBossesMsg()
  local foo = { }

  foo['Azuregos'] = '艾索雷葛斯 (蓝龙)'
  foo['Lord Kazzak'] = '卡扎克'
  foo['Lethon'] = '莱索恩 (绿龙: 暗影)'
  foo['Emeriss'] = '艾莫莉丝 (绿龙: 蘑菇)'
  foo['Taerar'] = '泰拉尔 (绿龙: 分身)'
  foo['Ysondre'] = '伊森德雷 (绿龙:德鲁伊)'
  foo['Dreamstalker'] = '巡梦者 (调试信息)'
  foo['Jademir Oracle'] = '加德米尔龙族 (调试信息)'

  foo['Duskwood'] = '暮色森林'
  foo['The Hinterlands'] = '辛特兰'
  foo['Feralas'] = '菲拉斯'
  foo['Ashenvale'] = '灰谷'

  local bar = select(1, UnitName('target'))
  bar = foo[bar] or bar

  local pos = GetZoneText()
  pos = foo[pos] or pos

  local msg = '发现世界Boss: '
  msg = msg .. bar
  msg = msg .. ' in '
  msg = msg .. pos

  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')

  for i = 1, 14 do
    C_Timer.After(30 * i, function()
      SendChatMessage(msg, 'GUILD')
    end)
    -- print(tostring(30 * i) .. 's delayed msg create')
  end

  local frame = CreateFrame('Frame')
  frame:RegisterEvent('CHAT_MSG_WHISPER')
  frame:SetScript("OnEvent", function(_, _, text, name)
    if text == '14' then
      InviteUnit(name)
      ConvertToRaid()
    end
  end)

  local msg_hint = '请密语我"14"进组切换位面'
  local msg_warning = '墨客警示: 请一定确认位面正确切换成功后再退组重新开组'

  SendChatMessage(msg_hint, 'GUILD')
  SendChatMessage(msg_warning, 'GUILD')

  --[====[
  local guild = '黑莲神教'
  C_FriendList.SendWho(guild)
  local cnt = select(2, C_FriendList.GetNumWhoResults())
  for i = 1, cnt do
    local entry = C_FriendList.GetWhoInfo(i)
    if entry.fullGuildName == guild then
      SendChatMessage(msg, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_hint, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_warning, 'WHISPER', nil, entry.fullName)
      print('send to ' .. entry.fullName)
    end
  end
  --]====]
end

WorldBossesMsg()

-- macro
/tar Azuregos
/tar Lord Kazzak
/tar Lethon
/tar Emeriss
/tar Taerar
/tar Ysondre
/cast !Stealth
