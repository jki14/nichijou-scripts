--release
!1IZEVnvY1)DbPk7urI8RyNGk)HtWoj0ehKVMfTfW2347y7P5674oZCtiPQwGA5rGsa2wGUWp2FLSBxTvRijWwPWUSl8Lj(r(w0ZzUVCStaQ6wCWEUZ55CEp3IrlwOOwJIAg4FWYkmtghwKlQ6VyQVJR(ob(TSO2AlwTQGilMlsrnDRk1z8ZXOwaGPZKRqM8ipyMgSvT0wL2KuCQGnYyuJuCjGQkskZsGYti15sCHbRKjJ1erVbri0RrkvXwizGUfSJCnGHAAlKoFH8PN7mkQCHH81BjqHhTToBRZQqtWSTmqURwuItAs0HZW4UBuuBoljHxvVc5sPnmaT7sxGOVCABUU4sNJTkHRwUaXGQFjnKcXLe1PnfRwNkKMKXy1QPKJRGxcTuvPwurD40bRHLENZ(qbai50A1iCHJrVG)g4sDqMw6WXYbO2u2ClQvTwLtBWjw6Mulc6J0MNUIA7PynucwyVezfIL8CCsv6val25Ym)8EgLs1PgKalKOoB1PnzwGqatOTGKdeiAOSTu8a1cjtbPKnEiaqgKLSRwTGYBmB68lK98a3DXEwIUPSoCmuq9KIIsTMM6RbNmF9td4cQFLMoTwHsAfa)kaSjX0CodHJDZvND4MRi8mjYa(x12sfufEeWJx25JjRIUzRYvzSwLpDRY)(wL)dbaHDVyOKrJmzOlRGgk962CsnMi0a4enw8jt5H08mUrRY)A91xxF5HqmXetmHpIezDM1rHIVaZ0GWPcXrGZKr8WPGoHRZpk24RsFQGzbrd9HZOJ6R6jM0xJodNO3as3mxMWpkKhpEuFEEwDdsdkVv5f56vm7N3U20L05kmfetsfz4KNewk5IMMuz4tm6jGhpp4WN58ZDMWHGm8AezOrgPpxdTQJub(aIuwNyfaZ7dNiHWDak3MeaLyze8Ghkv1nfaoempwfJikQDU5t)PzYxcIPMjtHstpB6CZKbQyGbUAqi)IwoH(lALgcCwHGbt2w9L75x9bZsHKSdNzEO4r)mfjTbbRKcPTyWyrT4rckEXAc(sjuDfRlyeo0VqeAKJnv1Vuw779GUBU7(V(rDF4FEkMqCQpq2dMM6r8u(A4011LTkVGht7djvsCqrxNCAWAvO0cAZuc8GZFMbnnQYwguXVvLZbMoOnWAov1xHuWbTfyqnMCJgnItTpO0kuU6tGYCOzjx84f1wMqAMgY1RiZJglvFblAdhd3H6m4AnDRbiivGaEHNlWcQCbhtDbbCpeRAqPhOFLAJcbiakrdDQ1pJSZV2(ptmenPeHUezMQzg4LZtQ52N0PZWsq1hcVelO)R7oc66eSbTMKCfzjVE4sF4d1vp7etMk6ePsozKePIflrKjlwD0XtO60hjOtVl1Rqf0LmvrjU7qWg5AA)oBDoPv5S2MqjHluNckU7PguEhuDoz1j0A1LfZozKiPIozYXtfj(ejtepji1ePkQzY0vdFGHLyQehp)qdnoZUPZ5aHycqmvDWHGg1yl2MsQx8OcAF5y)Qt7UxrTyGHQIPUqmerk72aBcBZv2Dh3dTcMhRB2SUUQfS6zujiMvhyUhiLaBWnhIrUOXteDCy6I1zqre1Osyxu4CjzvwXlpiA04raCOqnJlW4Mgyco0zt7kUJyLD0KtKmESyrIhjsKXtmE0uOFcA4xLdTaHakDPJwTk1acSYMaCQrsnESKrtblNCc0(MujAykTfB6n1fAqrzotZgRNDTKN324tq7nQwQqp4auLwZTblemtLhkmSsDsLL7VEiQbROZP6yuIQQk(SPnXnoQsDDRAKag4aRWWDVHOOaZWcIAF0DZhObPFVC3(z924TD)xBDWt3R3dEANhTtRYH79xE2bV9ZhzWoRhQ)UlXTV7Z7SXMTV(DgczNE8EYyZxcYOZ1(Na37(M3bC)uTk35jpU9p9YHeJxR)a1R3MFBVn3y)x)S(PU3F7b9U3nhIA3HcCjUZ3TBN7Sr7D)R9tz7BDJE)W3oeLEZk4s6()4T78LB3(T7bwMaQXNF11aydr(HgHWZ6S3Z7S1x37QxhnQ7(h7TZd3)DpVZ12ziIhCMcp6V9Fhey3x(DWjaKENhFV3dJgYnlQRZ173mE)Vbmgdk6PGKFjbCSZRdvM9rFNR3(Z(S9)(70()B3HoP2ILxLXm8nYpz7EB8kWy15lE8qUJ6qnWzv94mpe)F7t7UX33(6dX8SG7d0iF8U3RaDgclheV0cyUiixX3w19A72B39os7Xrpxwu3bXWr67BqSaY8Wpywmg3z3JxgnzcfnZqK)gO3vbOLt)5PEGrwcRDzjU7XZYgIAUrddoTdSxa2EOP(DSXgqrhcAiyotR3pdog1sdMKehzYDGPWa(GLmKAAOqJ8)o86paamAuLYIoXOjAv2Gn8mYtxQamYjFS0vHOVWXJ0Q8Veidi4OUp0X95Jw7cgb)i2fVirtoKgewYG7caTV91NrC9hqGHbbVcOHRlOcuqrs6xghA8(Hl(JT9ugLPvuMLRcSv)0pxu4DkC8jiVNNbNboCi)HAVWSZbtzNFyc0isTkCAt4omlAPO6e9BklbpG)hhYc(bVf67X6IxXbXeuxmYoAIqh3fDg8ZCwRaJsH5TH)aYWpmGHnVLfy51PgVpx(HmVd4hpIKYs1b)Px1Y9AVZn6TZl6CRhCIOjorV390UV5p1(w3SZD3A)F6Uh8STcDKCyvD3xzHk9ERVP92B17fFD3V6hW(B7S3(V(QT3(jDF(292(RCytNx8LWJomUZTUF7B))3((B2(g39GREvqGhCZ725r72(hX1H(itDvNIp28spf(dKFo6Ox80W)UOZoUN3A2utdNt6bV5b928vD)hFrNh(5U650LYYPGaNhckhdL8fQZcRizKdXLkUMC3A4Xo5aKc1DZz3aiopraZTkc7vqFGAgk(0Frdx(dH181CsIgGTapNZQklmDGBQROySQWy(ZGQBoNKWt7FGhoS(ykP4L5HzpuZt2pNZnCK(7Zv(FpN6Zp)FgZCkYfsG5sLLmvFgS82XsKFsN)Irh9Yy0ZLvVYc8vuo4yV4uZn54TzKR5nMCf8k1sV7O48Mxvv(CUOI205ZKjxWlBf7lFgQaNj3W51rcxSi2yrtnwu4ceRaJINigoDEX)n

-- trigger
function()
  local foo = { }
  foo['6109'] = 'Azuregos'
  foo['12397'] = 'Lord Kazzak'
  foo['14888'] = 'Lethon'
  foo['14889'] = 'Emeriss'
  foo['14890'] = 'Taerar'
  foo['14887'] = 'Ysondre'
  -- foo['12498'] = 'Dreamstalker'
  -- foo['5317'] = 'Jademir Oracle'
  local bar = select(6, strsplit("-", UnitGUID('target')))
  if foo[bar] then
    return true
  end
  return false
end

-- message
function WorldBossesMsg()
  local foo = { }

  foo['Azuregos'] = '艾索雷葛斯 (蓝龙)'
  foo['Lord Kazzak'] = '卡扎克'
  foo['Lethon'] = '莱索恩 (绿龙: 暗影)'
  foo['Emeriss'] = '艾莫莉丝 (绿龙: 蘑菇)'
  foo['Taerar'] = '泰拉尔 (绿龙: 分身)'
  foo['Ysondre'] = '伊森德雷 (绿龙:德鲁伊)'
  foo['Dreamstalker'] = '巡梦者 (调试信息)'
  foo['Jademir Oracle'] = '加德米尔龙族 (调试信息)'

  foo['Azshara'] = '艾萨拉'
  foo['Blasted Lands'] = '诅咒之地'
  foo['Duskwood'] = '暮色森林'
  foo['The Hinterlands'] = '辛特兰'
  foo['Feralas'] = '菲拉斯'
  foo['Ashenvale'] = '灰谷'

  local bar = select(1, UnitName('target'))
  bar = foo[bar] or bar

  local pos = GetZoneText()
  pos = foo[pos] or pos

  local msg = '发现世界Boss: '
  msg = msg .. bar
  msg = msg .. ' in '
  msg = msg .. pos

  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')

  for i = 1, 14 do
    C_Timer.After(30 * i, function()
      SendChatMessage(msg, 'GUILD')
    end)
    -- print(tostring(30 * i) .. 's delayed msg create')
  end

  local frame = CreateFrame('Frame')
  frame:RegisterEvent('CHAT_MSG_WHISPER')
  frame:SetScript("OnEvent", function(_, _, text, name)
    if text == '14' then
      InviteUnit(name)
      ConvertToRaid()
    end
  end)

  local msg_hint = '请密语我"14"进组切换位面'
  local msg_warning = '墨客警示: 请一定确认位面正确切换成功后再退组重新开组'

  SendChatMessage(msg_hint, 'GUILD')
  SendChatMessage(msg_warning, 'GUILD')

  --[====[
  local guild = '黑莲神教'
  C_FriendList.SendWho(guild)
  local cnt = select(2, C_FriendList.GetNumWhoResults())
  for i = 1, cnt do
    local entry = C_FriendList.GetWhoInfo(i)
    if entry.fullGuildName == guild then
      SendChatMessage(msg, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_hint, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_warning, 'WHISPER', nil, entry.fullName)
      print('send to ' .. entry.fullName)
    end
  end
  --]====]
end

WorldBossesMsg()

-- macro
/targetexact Azuregos
/targetexact Lord Kazzak
/targetexact Lethon
/targetexact Emeriss
/targetexact Taerar
/targetexact Ysondre
/cast !Stealth
