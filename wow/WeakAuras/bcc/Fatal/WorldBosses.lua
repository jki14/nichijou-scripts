--release
!TI1(ZnXXD8)xyMosUd2JEzjBMYpiBlBm1wMrNimPasA9DRK26t3QU7E2y3PAGPLhgQn40cKaL0ItAM0jd2gsNXKqc8pJ1d)Fr)U79q3jlstNc2yT3UFFVFF85uP4LkwsRrjnd5VWsDQjLblYhx9Bc1FtQ(Bk5FfL0wFPQv5yrP8XkPHS0RtzxGsSGdMox(I5kiLb10GUML2AKM4st1FJCg1WLwg4sxqOwCP(4cetixyqlBsPnLK3aZ5OA4Y62CbfST(7iwheOM2IzluSq25NrXL7zs56Te4WJ3wNV15vKXP2wgsPRwuMHBIrGpmU7gL0M3sGzvr64RK1WaSURCjmALS2me)kxGUgMPwUi2GGUIMKd(v41jn5RvNWfM4XO1QP0JRIxwgPQsSi86G3bRHLE(zasGdemsTAyg3jOx0Fd5seOtle4wohQnLnZIyvRvLSgmSfYKyHL3rAlqwvT9u0gkfZTxgVk2sCbgUk5Aqe7c5wybVGs56edC)ieVoDTPnPwGsGqOnhNhuOmqzBPKH0keu1jLTLobCKbEz7QvlQUnox2clo7fbP7s95WitrDWnuN6PffNAnnrRdEMV9PbsrAFLNoRwXYAfH7vx5WlPDHfY(X5kug2CUCflp95YMFUCZ47eoI3vNEXiPR3eBAoVH7tEQVQTLkNl6iqcrfNFmP6iZwvQsPTQC2wv(9TQ8h6FiS7LJKoESjJCv1PrYUHndxJYJmanXtKCYmEeTaLz0QYVgTXgOvobHPMyIj8jelQtTggj(kmxdmJW5dHMjJ5rtreMHydtm(M0hZPwqYsaAgDuFtp1K(w0mmmQbunAUcMnmIhpzCFzEEKbUbH1QYsmKUzqz7gtxgXuuYXMyDr00Ngwky8MMer0tn6PGhViKpm3fNFMOrGga1WIiJmsGRgsvhTcYbuPOo2Q)zE)WWcOAaoLzJ7Fk2YO)dEKufzYbAWYYCzIRgKYVKLtQ)swzHmJvXYSfBRa1E(DFKvPqrw4kZqPF(vkcsdSStku2kZ2kPLmw)Mx0MWLLa6Uk7lyenYVGhzK3BPQFRS23FNUBFWrV(rDF4FEkkNFM)lvpYYupMNY3cNUos0QYIEcnarQI4(nDDQPHITILxuBUYWv0cZmyOr12YGW)TQIki0bJbw3PR(Q4IoKTif6XKF04XC69bTwH2vFe0MtgwYNmzjTvW4MzHQvDrbzWsnxWI0WjWfAYGB00TKNJ1HmAU3vGf05cCtehdxpyRAqRhyELAJI9jamIgiI1hqX53B)dKaLHumhjKctnmdULlGR5oN0zYWYq7fmRmT)8x3D4KnWYb0Ac81eL9MHl8p)et1NDIjZeFImPNmwQmjsKk2KLQo64Put6J1FsVl3Rs4KLnvzjU7GLdY10(D2igUvLzTnHA(lvNagURxdgVdPoEwDmPwDrPzNmwSmXNm94zILCI0PsMg0AQmL0mPif4dzAPSuIj9FyGgJA30XpKNycNyQMGdjnkyl2McIx(O60a1y)QZ6UxjTeqGs3eX5NGjvCBGnHTzQ4UZ1drxwhJmBwhPgbREEkv(VCA28YhZhpzQ4Jdqj2GcDmu4IKJmbNqq1x1lPpE8KXaAiqdIlrzMgYQzyQfKWywDaeuvzWaniFbjCu6AediVz2uWDwSmJNiD8mWYjNqg(sRugacBPMEGQKXlPwMRzJnMD90x024JKHtPHOYSatUkPMdHxZfm3SJMEI0jtKiwYyXInEQXJNrMrKqrSbreknuVowFLG9dLM4QigbjZsuDvLpBAJDZJ0RJSQH7laNZkEYXZqwu)iZI8AEJRh(O6Z7pXZF4S7aQEB(2U)7Dp(Ph2BNN25r73Qs0E)LND8B)SrIeGPqdRDzS9wpVZMB3(M3leHodR9K92VeKDNB8VaP29nVdK6zAvPZtEC7F8LHeV387(MuVT)MEBV5rV(zb5S3NUtV7F7qC6ov3LXoF7bDU3MTp4VgKR235w9((VjexEd6Dz7OF4UD(I9A)2dHOqioHDE1nGtdXCOP)EXIdFEND)QEx)MYW3b)XE7)WJE3Z7CJ9dX4Gqb849U)dqrDF53c2nO3op((dtibVa51rmuWG1d(AWTdQQPGsybgUYwab9x9jD)B2(t(KJ(U71(VDqipYMVYAuQHFy8j71BZxbHKoF(JdfSRdDWoNAcLzi5(2N2DZVR9ndj0zHlgWk8P5(VcSriblinz5aCfid3pw09gh07Gd993HdrkUlMij47ayICyXJ2(qIOmNDdlZMuUIU5WIFdmvPimmWRcY7iPiG1UIqUByr0GxZ9gCqChWEou6rI6ZXgZZqg2jraOCwVFgdOEnaCMeKIleLOanqejIc)rKr(asJ7ff48eLXid8Xt1QIbTpUXPlxeaYXglBviRiAYyTQ8lbYbch2Rr8Z1YCrNosyS1nzqQxubfGhdd8811iUXp4sZalFPjd3WMouOkWEY0bTBOwKYjhkhBAfLZYujuQp84srZzKGlG6jwojcXOr8H8DPZnpGbTqyI1WcnDgPjaFFjlfhNky4Om8G8)s4hWhYxhBa08YtaZsMzfpvKHHPFERvbaeYAGOdWV6kHkNFjkslGigrhzia(DJTdKmdVSRLWRtXHT3)w92)fDUZoNkEQt17DpT7B(tTVZT7S1Uh9JBD8Z2nYj4EnK7lCRkj29RBV3U9EXx19l)EzN79p8OxF9279KUpFVE79LoIOZl(c4rhH25opO9D)7TFW2TV1whF9Rdk74BVvNhDq7FqUoYprQVYQ)5KB7zGdjhF0rV8zH)D5q(unBIPHJ3C8B2P32VQ7)8Z78WpZ1XNU8SmcOKfGeJXKA7s1PrvSeEoSUBi1T3vItpaRq)N82naMlG5aYkEuVgzdu3PKtWcpx5dPxS1DsIhqSGmN3QknkzG0lfhJvfaIoN0CZ7ueCwFh(KPBVNswVSFzwmX80bLC(tMv(tD19)VKcC3()MWCAQeHlRnQiOQ(WY2jVxMcwe5L9Cvz2ZvvV1SmLAqGzsCDnzs82I19aYPlFPpHhkANVBqvNhhO0AtxixU89)6aLZNMHWLOgnC(cZa0WjglEMXIdapxfalMkHe)yP)d

-- trigger
function()
  local foo = { }
  foo['6109'] = 'Azuregos'
  foo['12397'] = 'Lord Kazzak'
  foo['14888'] = 'Lethon'
  foo['14889'] = 'Emeriss'
  foo['14890'] = 'Taerar'
  foo['14887'] = 'Ysondre'
  foo['18728'] = 'Doom Lord Kazzak'
  foo['17711'] = 'Doomwalker'
  -- foo['12498'] = 'Dreamstalker'
  -- foo['5317'] = 'Jademir Oracle'
  local bar = select(6, strsplit("-", UnitGUID('target')))
  if foo[bar] then
    return true
  end
  return false
end

-- message
function WorldBossesMsg()
  local foo = { }

  foo['Azuregos'] = '艾索雷葛斯 (蓝龙)'
  foo['Lord Kazzak'] = '卡扎克'
  foo['Lethon'] = '莱索恩 (绿龙: 暗影)'
  foo['Emeriss'] = '艾莫莉丝 (绿龙: 蘑菇)'
  foo['Taerar'] = '泰拉尔 (绿龙: 分身)'
  foo['Ysondre'] = '伊森德雷 (绿龙: 德鲁伊)'
  foo['Dreamstalker'] = '巡梦者 (调试信息)'
  foo['Jademir Oracle'] = '加德米尔龙族 (调试信息)'

  foo['Azshara'] = '艾萨拉'
  foo['Blasted Lands'] = '诅咒之地'
  foo['Duskwood'] = '暮色森林'
  foo['The Hinterlands'] = '辛特兰'
  foo['Feralas'] = '菲拉斯'
  foo['Ashenvale'] = '灰谷'

  local bar = select(1, UnitName('target'))
  bar = foo[bar] or bar

  local pos = GetZoneText()
  pos = foo[pos] or pos

  local msg = '发现世界Boss: '
  msg = msg .. bar
  msg = msg .. ' in '
  msg = msg .. pos

  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')

  for i = 1, 14 do
    C_Timer.After(30 * i, function()
      SendChatMessage(msg, 'GUILD')
    end)
    -- print(tostring(30 * i) .. 's delayed msg create')
  end

  local frame = CreateFrame('Frame')
  frame:RegisterEvent('CHAT_MSG_WHISPER')
  frame:SetScript("OnEvent", function(_, _, text, name)
    if text == '14' then
      InviteUnit(name)
      ConvertToRaid()
    end
  end)

  local msg_hint = '请密语我"14"进组切换位面'
  local msg_warning = '墨客警示: 请一定确认位面正确切换成功后再退组重新开组'

  SendChatMessage(msg_hint, 'GUILD')
  SendChatMessage(msg_warning, 'GUILD')

  --[====[
  local guild = '黑莲神教'
  C_FriendList.SendWho(guild)
  local cnt = select(2, C_FriendList.GetNumWhoResults())
  for i = 1, cnt do
    local entry = C_FriendList.GetWhoInfo(i)
    if entry.fullGuildName == guild then
      SendChatMessage(msg, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_hint, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_warning, 'WHISPER', nil, entry.fullName)
      print('send to ' .. entry.fullName)
    end
  end
  --]====]
end

WorldBossesMsg()

-- macro
/targetexact Azuregos
/targetexact Lord Kazzak
/targetexact Lethon
/targetexact Emeriss
/targetexact Taerar
/targetexact Ysondre
/targetexact Doom Lord Kazzak
/targetexact Doomwalker
/cast !Stealth
