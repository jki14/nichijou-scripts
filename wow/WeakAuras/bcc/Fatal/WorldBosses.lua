--release
!WA:2!TI1)VrXXv8aosj5svjXQbHIAL2A167CQTfgi0qurn35VN6VP9ocnfONN725UDk7TZ2zM1g7OQcUfIbcMGBtOjqslxsqPIgS5svGesaj3)bwH6VxjKVV4FfPk1FQUVz29SxFXkPQQRS9UZmV3BEZ7959LXBPVMl0SrZgZ(9ksYsTtsDzzXBHn1O5YXXITuczN1KYgJsSfz6U3rs1R(9YsPwg0jTtojXbp(s1h2RrESjdLvqO289QZfiM4QmdAAlk1z87xaZ5O840zD5cAHTUu9XIPCWZNC446P0Jpypfb6dwXKf8XwZ4ZtlrImdSmN6ABm(sQxPzyhms84ZdZ7tKPUAbNedAlWSCOS4dh3Wa0OdFqm6OXDzi(HhJojMP(CySbbD4Kso4hMBsC4tAs4clCN085ZKJyt4MrsaVeB3RzZzems(8yg)N3kl4ZzBEEeiiBeORpJtZjCz2e78AXnyyBKfXgxAiYeYzsqlK5(C3m4jW2IXy4CKJPNCSEhAOs(6DAtIb2BBf5M0j72IAJ5MmxoEeqWJZCTvSLa5kOZaZM2f0OXlAGZ4MlxkWaYgiU(W9DGH0v0LzamYsyMqAA92wcjXzCSqtHzRPbjbgjhRu6UJNmv6KPaR)mChSL1Gg8i11if7TQRoBr822X2YLZ5ARCVXAlIg8yrZIS0YrPA7x7v0(vQ5Grhk6E7AN7l6rGzJgFAxgopLhD9f7Ax7EF)q)vhIYm0(jOPNgD0WeSNN75EUacWctQDdRfi6ElGzeoFJlUVD6VykeMHynWyWU(YCQn4F8xSJoQRv7zFbBApmmQaaFTokMTrIE2D3vGmErKbUaHPnka4TceLV5idIbeWXw4SIy7TDnUGXDSiIyT0rlTRDaWx0)bgSNyrHWJ8yr02AZ3wsYP2cG7JOjmX2QjLpmSaavAcMlwnh22isO5ZHS44iWK((vUZtn2qXF5E1td(0(7nv6Uhi(i93BpfLiLKa2Au7L4QxXbp5e45DTdqYB3BBBTvVD8jEX8A177QlifWgZyayBPdVLDVtNNOEelfWBibLveIpmIf97ZJ2M3327749nDEYYN)cvNBXLV1Bw9nETeuo)59(bETxsIydyECVwxQBtKqBy)Xpi0AsG84Lcn4(GYNk9Wj7pnyYgQhVNnsjdc)xOaHtG3fYEkNNeP(oL)zyyQb(V8qpGid9HWVxccvbL)qp4OyStCaFNvOlpoMZJSjfuhS969O9DV6NsfINXXqEqdUxSe2qy4syehNuaHZ5fMpYmYrsvZBGefqe7(86ZRFWInG3GpI3lcVEQgNbcs5iHCdWMfHOpDCEz(XNEI7Lba)ywAAqI2GHCY04hROaFmr6SulklYsblOg9InnWp(FOEwzlnD)GvMGWjzSatxWymKi25jt(lDrmSwFUwwAh0KiWEXMh2FFAYyIj5nfd8cJU6QJ)qp0dNWIImUkdsuXOUorMx6vK5CyMzG4aaxTD9cUwcse9SwioF7EhkcBAW6aPl2AcPHvoJIllGlRX1vVAzx78(QpwdY0YpA)jKNqj5fzktH0AMqw6jd8Bos(iSJ5x7zG7(VYSTvxD1)5m1RWykD)YezdcKUJT(nECpJXtmnLwyloFR60KcSC9q4iWGyy61Izrbn7e(4GhDSNQfIrPdszwgsWjMRJSCmrnvkhdYXbozKa1K(KedH5aVWy)TN4xV6Q)77b5CHcGJ6OkRfzxUGe63PW09n1EpGRXlbMmP0XMpWVqzFsjjpszs2TEV9oIEGBdEkkHveLyE6w1ZAIZE096TJMMzceJiv3eY4s9jqwU4Myznr25XaHEVceyESh7gqkOGiJi1ZcRf6Kmmp)xrs51tdUw(yvwSAN(ov)Rfx5s3S2fUuL3CbTy1(DVZk35TAluEZWPOv8u(CxPYPNR8jpByI8tt7lZ5UbiZkN4pRfR6TVliTNxRYBFXYFXncl165URRf1M7A1M70lFR3zDMQ9hUqTZ)QHzkiNUINkF8Ivo7PlV4VFDgkp7PQ9zxlmd1t0R4y5p)mvEVRx(o3eoUHycgx6eWAH5Bdfa8p038kvkE1Ah)KGjAXFtTfEJLV7vQCIfcZudve8z7m)jydQEJpguuy7QCXZVP8hANbWS2xYKx5YxRYf)GvkEQLV1T3mZVKRjdPT(0x7kVgOWr)saaUjIHw3Y)6FiyidjSeqaUaBOnecscgq2cNS88ZV8NE2YxEXWBRl)OtsPgbB6BF9ANUeyIR8UxmStZeRnGkHSvibENlv90FA5tgwA9boxyRdi48LaTcGKHiiohklcHhb22QNyXAlEZgpEda9WKJa59gddnIXDTcoPGMx9S3O6jUw5ZDMYLUuiXM0eb5nkqH4PxczzHNkGHV4gvU8SBCh2Kc8D5xsx2MwOs6kQ9PBTI6uMCMgfMdLde1pw8ZGSPYCxbrX(Zlzg(sXm8UrMlWZRu1gl6Q5RZ(ll)BNDU2EVHjJQrS3mI3WELeAUqwYoOIDmGM21IQQihTT)VrrGdHPra1aSQDThnd6Anb1D6uq)iSoJNdasX29o1Egns7An0oA4NV(nmOxQ1hazyDG05Iyck0ZgukmyFAtzP4Agyzl0gkBuwidHahiP6DKfo9RSmaCq6wrNQOqSOQxb8Oi45LndabBSELTUfl6AT7CWbgeUBG(gOnjwKmlJ4ansoQTIHwczbs3Ug8JSTH21KnSVrlc0CPCjT9dOLU2t0n2Gz9NbTNa6sqIMJ9LLGYjqL16ePO6iIrd2862G1SOBeMc3UXw4Nk5MLx4u1w4JQm7fAPR90sT7EPQ3(3wE2xTY5kU8xCUvENIrBGZjr(xPsc0l(HLVEXAF0vR((FguGyHBU8ToE5R)2vVY1RD933N7kF07bd9LxLzF9YN5pw(1NR8Po3kh)4W(SYREUkV5IL)C53r)kr4kf(Rhexx72mWChDCO9dphks9ttExILH8CSYTVqT5kv9dE3kVXBjvJUt3hJacFiam0PCxoOjnMI62wJ5Sk7xqwND1(g5bYFmIBbGlDmKYtWJPsbfkAsYDq4KV4a4dBkjaTbXaYyq7C0yK1UvIIYoZbTr2VuJgrbS3FWHjeqAZJ4QJKbujXQ9qcBKqqSVc7))Z8VUJ5)kr4h5hLdsstqHeJqm)MrPpo3)VD0XrKo4JiV9vKin2m2momzxVIPk6FD6SWDtkraBlZ)MhB3zhK82ugoO1sviDVmgLXhFEWpNt9)CX7HBMRV7oF2o3zZt83)P)Np

-- trigger
function()
  local foo = { }
  foo['6109'] = 'Azuregos'
  foo['12397'] = 'Lord Kazzak'
  foo['14888'] = 'Lethon'
  foo['14889'] = 'Emeriss'
  foo['14890'] = 'Taerar'
  foo['14887'] = 'Ysondre'
  foo['18728'] = 'Doom Lord Kazzak'
  foo['17711'] = 'Doomwalker'
  -- foo['12498'] = 'Dreamstalker'
  -- foo['5317'] = 'Jademir Oracle'
  local bar = select(6, strsplit("-", UnitGUID('target')))
  if foo[bar] then
    return true
  end
  return false
end

-- message
function WorldBossesMsg()
  local foo = { }

  foo['Azuregos'] = '艾索雷葛斯 (蓝龙)'
  foo['Lord Kazzak'] = '卡扎克'
  foo['Lethon'] = '莱索恩 (绿龙: 暗影)'
  foo['Emeriss'] = '艾莫莉丝 (绿龙: 蘑菇)'
  foo['Taerar'] = '泰拉尔 (绿龙: 分身)'
  foo['Ysondre'] = '伊森德雷 (绿龙: 德鲁伊)'
  foo['Dreamstalker'] = '巡梦者 (调试信息)'
  foo['Jademir Oracle'] = '加德米尔龙族 (调试信息)'

  foo['Doom Lord Kazzak'] = '末日领主卡扎克'
  foo['Doomwalker'] = '末日行者'

  foo['Azshara'] = '艾萨拉'
  foo['Blasted Lands'] = '诅咒之地'
  foo['Duskwood'] = '暮色森林'
  foo['The Hinterlands'] = '辛特兰'
  foo['Feralas'] = '菲拉斯'
  foo['Ashenvale'] = '灰谷'

  foo['Hellfire Peninsula'] = '地狱火半岛'
  foo['Shadowmoon Valley'] = '影月谷'

  local bar = select(1, UnitName('target'))
  bar = foo[bar] or bar

  local pos = GetZoneText()
  pos = foo[pos] or pos

  local msg = '发现世界Boss: '
  msg = msg .. bar
  msg = msg .. ' in '
  msg = msg .. pos

  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')
  SendChatMessage(msg, 'GUILD')

  for i = 1, 14 do
    C_Timer.After(30 * i, function()
      SendChatMessage(msg, 'GUILD')
    end)
    -- print(tostring(30 * i) .. 's delayed msg create')
  end

  local frame = CreateFrame('Frame')
  frame:RegisterEvent('CHAT_MSG_WHISPER')
  frame:SetScript("OnEvent", function(_, _, text, name)
    if text == '14' then
      InviteUnit(name)
      ConvertToRaid()
    end
  end)

  local msg_hint = '请密语我"14"进组切换位面'
  local msg_warning = '墨客警示: 请一定确认位面正确切换成功后再退组重新开组'

  SendChatMessage(msg_hint, 'GUILD')
  SendChatMessage(msg_warning, 'GUILD')

  --[====[
  local guild = '黑莲神教'
  C_FriendList.SendWho(guild)
  local cnt = select(2, C_FriendList.GetNumWhoResults())
  for i = 1, cnt do
    local entry = C_FriendList.GetWhoInfo(i)
    if entry.fullGuildName == guild then
      SendChatMessage(msg, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_hint, 'WHISPER', nil, entry.fullName)
      SendChatMessage(msg_warning, 'WHISPER', nil, entry.fullName)
      print('send to ' .. entry.fullName)
    end
  end
  --]====]
end

WorldBossesMsg()

-- macro
/targetexact Azuregos
/targetexact Lord Kazzak
/targetexact Lethon
/targetexact Emeriss
/targetexact Taerar
/targetexact Ysondre
/targetexact Doom Lord Kazzak
/targetexact Doomwalker
/cast !Stealth
